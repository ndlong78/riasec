<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <title>CBB &amp; Family ‚Äì Tr·∫Øc nghi·ªám Holland RIASEC</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />

    <!-- CryptoJS d√πng ƒë·ªÉ m√£ h√≥a d·ªØ li·ªáu tr∆∞·ªõc khi l∆∞u GitHub -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js" integrity="sha512-Y1m4ZLZ8vk9ygZ7LZ08PhvOYCdJ08Pmz6GJAF1pD9myZ8LFgRhn9iPqX9pH4OxqS9EwCkyoXtwHdGqjZBz7G0w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
<div class="app-shell">
    <header class="app-header">
        <div class="brand-left">
            <img src="logo-cbb.png" alt="Logo CBB &amp; Family" class="brand-logo" id="brand-logo" />
            <div>
                <div class="brand-title" id="brand-name">CBB &amp; Family</div>
                <div class="brand-sub" id="brand-tagline">C√πng con ƒë·ªãnh h∆∞·ªõng t∆∞∆°ng lai</div>
            </div>
        </div>
        <div class="header-right">
            <div class="dark-toggle">
                <span>‚òÄÔ∏è</span>
                <label class="switch">
                    <input type="checkbox" id="theme-toggle" />
                    <span class="slider"></span>
                </label>
                <span>üåô</span>
            </div>
        </div>
    </header>

    <nav class="nav-tabs" aria-label="Main navigation">
        <button class="nav-tab active" data-tab="tab-test" accesskey="1">B√†i tr·∫Øc nghi·ªám</button>
        <button class="nav-tab" data-tab="tab-guide" accesskey="2">Gi·ªõi thi·ªáu RIASEC</button>
        <button class="nav-tab" data-tab="tab-result" accesskey="3">K·∫øt qu·∫£ &amp; G·ª£i √Ω</button>
        <button class="nav-tab" data-tab="tab-admin" accesskey="4">Admin</button>
    </nav>

    <main class="app-main">
        <!-- TAB: TEST -->
        <section id="tab-test" class="tab-panel active" aria-label="B√†i tr·∫Øc nghi·ªám">
            <div class="card">
                <h2>Th√¥ng tin h·ªçc sinh</h2>
                <p class="small-muted">Vui l√≤ng ƒëi·ªÅn ch√≠nh x√°c ƒë·ªÉ th·∫ßy c√¥ ti·ªán theo d√µi k·∫øt qu·∫£.</p>
                <div class="grid grid-2">
                    <div class="form-group">
                        <label for="student-name">H·ªç v√† t√™n *</label>
                        <input type="text" id="student-name" placeholder="Nguy·ªÖn VƒÉn A" />
                    </div>
                    <div class="form-group">
                        <label for="student-id">M√£ h·ªçc sinh</label>
                        <input type="text" id="student-id" placeholder="VD: 10A1-001" />
                    </div>
                    <div class="form-group">
                        <label for="student-class">L·ªõp *</label>
                        <input type="text" id="student-class" placeholder="VD: 10A1" />
                    </div>
                    <div class="form-group">
                        <label for="student-email">Email (n·∫øu c√≥)</label>
                        <input type="email" id="student-email" placeholder="email@domain.com" />
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>B√†i tr·∫Øc nghi·ªám Holland RIASEC (60 c√¢u)</h2>
                <p>V·ªõi m·ªói c√¢u, em h√£y ch·ªçn m·ª©c ƒë·ªô ph√π h·ª£p v·ªõi b·∫£n th√¢n:</p>
                <ul class="scale-legend">
                    <li>1 ‚Äì Ho√†n to√†n kh√¥ng ƒë·ªìng √Ω</li>
                    <li>2 ‚Äì Kh√¥ng ƒë·ªìng √Ω</li>
                    <li>3 ‚Äì Ph√¢n v√¢n / B√¨nh th∆∞·ªùng</li>
                    <li>4 ‚Äì ƒê·ªìng √Ω</li>
                    <li>5 ‚Äì R·∫•t ƒë·ªìng √Ω</li>
                </ul>

                <div class="progress-wrapper">
                    <div
                        class="progress-bar-bg"
                        role="progressbar"
                        aria-valuemin="0"
                        aria-valuemax="100"
                        aria-valuenow="0"
                        id="progress-bar"
                    >
                        <div class="progress-bar-fill" id="progress-fill"></div>
                    </div>
                    <div class="progress-text" id="progress-text">0 / 60 c√¢u (0%)</div>
                </div>

                <div class="questions-container" id="questions-container">
                    <!-- c√¢u h·ªèi s·∫Ω ƒë∆∞·ª£c JS render -->
                </div>

                <div class="actions">
                    <button class="btn primary" id="submit-test-btn" accesskey="s">
                        Xem k·∫øt qu·∫£
                    </button>
                    <button class="btn ghost" id="reset-test-btn">
                        L√†m l·∫°i t·ª´ ƒë·∫ßu
                    </button>
                </div>
                <p class="small-muted">
                    H·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông l∆∞u nh√°p c√¢u tr·∫£ l·ªùi tr√™n m√°y c·ªßa em m·ªói 30 gi√¢y ƒë·ªÉ tr√°nh m·∫•t d·ªØ li·ªáu.
                </p>
            </div>
        </section>

        <!-- TAB: GUIDE -->
        <section id="tab-guide" class="tab-panel" aria-label="Gi·ªõi thi·ªáu RIASEC">
            <div class="card">
                <h2>Holland RIASEC l√† g√¨?</h2>
                <p>
                    M√¥ h√¨nh Holland RIASEC chia xu h∆∞·ªõng ngh·ªÅ nghi·ªáp th√†nh 6 nh√≥m t√≠nh c√°ch:
                    <strong>R ‚Äì Realistic, I ‚Äì Investigative, A ‚Äì Artistic, S ‚Äì Social, E ‚Äì Enterprising, C ‚Äì Conventional</strong>.
                </p>
                <p>
                    B√†i tr·∫Øc nghi·ªám kh√¥ng ‚Äúch·ªçn ngh·ªÅ h·ªô‚Äù em, m√† gi√∫p em hi·ªÉu h∆°n v·ªÅ b·∫£n th√¢n ƒë·ªÉ
                    <strong>t·ª± quy·∫øt ƒë·ªãnh</strong> c√πng gia ƒë√¨nh v√† th·∫ßy c√¥.
                </p>

                <div class="riasec-grid">
                    <div class="riasec-box r">R ‚Äì Realistic (Th·ª±c t·∫ø)</div>
                    <div class="riasec-box i">I ‚Äì Investigative (Nghi√™n c·ª©u)</div>
                    <div class="riasec-box a">A ‚Äì Artistic (Ngh·ªá thu·∫≠t)</div>
                    <div class="riasec-box s">S ‚Äì Social (X√£ h·ªôi)</div>
                    <div class="riasec-box e">E ‚Äì Enterprising (Doanh nghi·ªáp)</div>
                    <div class="riasec-box c">C ‚Äì Conventional (Truy·ªÅn th·ªëng)</div>
                </div>

                <p class="small-muted">
                    Sau khi l√†m b√†i, em n√™n xem k·∫øt qu·∫£, ƒë·ªçc g·ª£i √Ω ngh·ªÅ nghi·ªáp, t·ª± t√¨m hi·ªÉu th√™m v√† trao ƒë·ªïi v·ªõi ba m·∫π, th·∫ßy c√¥, ho·∫∑c
                    CBB &amp; Family ƒë·ªÉ c√≥ g√≥c nh√¨n ƒëa chi·ªÅu h∆°n.
                </p>
            </div>
        </section>

        <!-- TAB: RESULT -->
        <section id="tab-result" class="tab-panel" aria-label="K·∫øt qu·∫£ &amp; G·ª£i √Ω">
            <div class="card">
                <h2>K·∫øt qu·∫£ g·∫ßn nh·∫•t c·ªßa em</h2>
                <p class="small-muted">
                    N·∫øu em v·ª´a l√†m b√†i, k·∫øt qu·∫£ s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y. N·∫øu ch∆∞a, h√£y chuy·ªÉn sang tab
                    <strong>B√†i tr·∫Øc nghi·ªám</strong> ƒë·ªÉ b·∫Øt ƒë·∫ßu.
                </p>
                <div class="result-layout">
                    <div class="chart-card">
                        <h3>Bi·ªÉu ƒë·ªì c·ªôt</h3>
                        <canvas id="barChart" width="400" height="300"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>Bi·ªÉu ƒë·ªì radar</h3>
                        <canvas id="radarChart" width="400" height="300"></canvas>
                    </div>
                </div>

                <div id="top3-codes" class="top3-box"></div>
                <div id="result-detail" class="result-detail"></div>

                <div class="actions">
                    <button class="btn" id="download-txt-btn">T·∫£i k·∫øt qu·∫£ (.txt)</button>
                </div>
            </div>
        </section>

        <!-- TAB: ADMIN -->
        <section id="tab-admin" class="tab-panel" aria-label="Admin">
            <div class="card">
                <h2>Khu v·ª±c gi√°o vi√™n (Admin)</h2>
                <p class="small-muted">
                    Khu v·ª±c n√†y d√†nh cho gi√°o vi√™n/CBB ƒë·ªÉ xem t·ªïng quan v√† c·∫•u h√¨nh ƒë·ªìng b·ªô d·ªØ li·ªáu l√™n GitHub.
                </p>

                <div id="admin-login-section">
                    <div class="form-inline">
                        <label for="admin-password-input">M·∫≠t kh·∫©u admin:</label>
                        <input type="password" id="admin-password-input" placeholder="V√≠ d·ª•: cbbadmin123" />
                        <button class="btn" id="admin-login-btn">ƒêƒÉng nh·∫≠p</button>
                    </div>
                    <p class="small-muted">
                        M·∫∑c ƒë·ªãnh: <code>cbbadmin123</code>. B·∫°n c√≥ th·ªÉ ƒë·ªïi trong file <code>script.js</code> (bi·∫øn
                        <code>ADMIN_PASSWORD</code>).
                    </p>
                </div>

                <div id="admin-content" class="hidden">
                    <h3>T·ªïng quan k·∫øt qu·∫£</h3>
                    <p class="small-muted">
                        D·ªØ li·ªáu n√†y ƒë∆∞·ª£c l∆∞u tr√™n <strong>localStorage</strong> c·ªßa tr√¨nh duy·ªát n√†y v√† c√≥ th·ªÉ ƒë∆∞·ª£c
                        ƒë·ªìng b·ªô l√™n GitHub (riasec-data-storage) ƒë·ªÉ t·∫≠p trung d·ªØ li·ªáu t·ª´ nhi·ªÅu m√°y.
                    </p>

                    <div class="admin-filters">
                        <div class="form-group">
                            <label for="filter-class">L·ªçc theo l·ªõp</label>
                            <input type="text" id="filter-class" placeholder="VD: 10A1" />
                        </div>
                        <div class="form-group">
                            <label for="filter-date">L·ªçc theo ng√†y (YYYY-MM-DD)</label>
                            <input type="date" id="filter-date" />
                        </div>
                        <button class="btn ghost" id="apply-filter-btn">√Åp d·ª•ng l·ªçc</button>
                        <button class="btn ghost" id="clear-filter-btn">X√≥a l·ªçc</button>
                    </div>

                    <div class="admin-actions">
                        <button class="btn" id="export-csv-btn">Export CSV</button>
                        <button class="btn" id="sync-github-btn">
                            ‚òÅÔ∏è ƒê·ªìng b·ªô to√†n b·ªô l√™n GitHub
                        </button>
                    </div>

                    <h3>C·∫•u h√¨nh GitHub &amp; m√£ h√≥a</h3>
                    <div class="grid grid-2">
                        <div class="form-group">
                            <label for="gh-owner">GitHub Owner *</label>
                            <input type="text" id="gh-owner" placeholder="V√≠ d·ª•: cbb-family" />
                        </div>
                        <div class="form-group">
                            <label for="gh-repo">Repository *</label>
                            <input type="text" id="gh-repo" placeholder="riasec-data-storage" />
                        </div>
                        <div class="form-group">
                            <label for="gh-path">File path *</label>
                            <input type="text" id="gh-path" placeholder="data/results.enc.json" />
                        </div>
                        <div class="form-group">
                            <label for="gh-token">GitHub Token (PAT) *</label>
                            <input type="password" id="gh-token" placeholder="ghp_xxx" />
                        </div>
                        <div class="form-group">
                            <label for="gh-secret">Kh√≥a m√£ h√≥a AES *</label>
                            <input type="password" id="gh-secret" placeholder="Chu·ªói b√≠ m·∫≠t do gi√°o vi√™n ƒë·∫∑t" />
                        </div>
                    </div>
                    <div class="actions">
                        <button class="btn" id="save-gh-config-btn">L∆∞u c·∫•u h√¨nh</button>
                    </div>
                    <p class="small-muted">
                        L∆∞u √Ω: GitHub Token s·∫Ω ƒë∆∞·ª£c l∆∞u trong <strong>localStorage</strong> tr√™n m√°y n√†y. Kh√¥ng n√™n
                        d√πng token c√≥ quy·ªÅn qu√° r·ªông trong h·ªá th·ªëng th·∫≠t.
                    </p>

                    <h3>Danh s√°ch k·∫øt qu·∫£ ƒë√£ l∆∞u</h3>
                    <div class="table-wrapper">
                        <table class="results-table" id="admin-results-table">
                            <thead>
                                <tr>
                                    <th>Th·ªùi gian</th>
                                    <th>H·ªç t√™n</th>
                                    <th>M√£ HS</th>
                                    <th>L·ªõp</th>
                                    <th>Email</th>
                                    <th>RIASEC</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- JS render -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="app-footer">
        CBB &amp; Family Career Center ¬∑ Holland RIASEC Test ¬∑ Deploy tr√™n GitHub Pages
    </footer>
</div>

<!-- Modal chi ti·∫øt ngh·ªÅ nghi·ªáp -->
<div id="career-modal-backdrop" class="modal-backdrop hidden" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="career-modal-title">
        <div class="modal-header">
            <h3 id="career-modal-title"></h3>
            <button type="button" class="btn modal-close-btn" id="career-modal-close">‚úï</button>
        </div>
        <div class="modal-body" id="career-modal-body"></div>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>
