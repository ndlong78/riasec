<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>CBB & Family ‚Äì Tr·∫Øc nghi·ªám Holland RIASEC</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="styles.css">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- CryptoJS for AES encryption -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js"></script>
</head>
<body>
<div class="app-shell">
    <header class="app-header">
        <div class="brand">
            <img src="logo-cbb.png" alt="CBB & Family Logo" class="brand-logo">
            <div class="brand-text">
                <div class="brand-title">CBB &amp; Family Career Center</div>
                <div class="brand-sub">Tr·∫Øc nghi·ªám t√≠nh c√°ch ngh·ªÅ nghi·ªáp Holland RIASEC cho h·ªçc sinh THPT</div>
            </div>
        </div>
        <nav class="nav-tabs">
            <button class="nav-tab active" data-target="intro-section">Gi·ªõi thi·ªáu</button>
            <button class="nav-tab" data-target="test-section">L√†m b√†i tr·∫Øc nghi·ªám</button>
            <button class="nav-tab" data-target="result-section">K·∫øt qu·∫£ RIASEC</button>
            <button class="nav-tab" data-target="admin-section">Admin</button>
        </nav>
    </header>

    <main class="app-main">
        <!-- Gi·ªõi thi·ªáu -->
        <section id="intro-section" class="section visible">
            <div class="card">
                <h1>Kh√°m ph√° t√≠nh c√°ch ngh·ªÅ nghi·ªáp v·ªõi Holland RIASEC</h1>
                <p>
                    B√†i tr·∫Øc nghi·ªám n√†y gi√∫p em hi·ªÉu r√µ h∆°n m√¨nh ph√π h·ª£p v·ªõi nh·ªØng nh√≥m t√≠nh c√°ch ngh·ªÅ nghi·ªáp n√†o,
                    t·ª´ ƒë√≥ tham kh·∫£o ƒë·ªÉ ch·ªçn ban, ch·ªçn kh·ªëi v√† ƒë·ªãnh h∆∞·ªõng ng√†nh h·ªçc sau n√†y.
                </p>
                <ul class="checklist">
                    <li>ƒê·ªëi t∆∞·ª£ng: h·ªçc sinh l·ªõp 10‚Äì11</li>
                    <li>Th·ªùi gian l√†m: kho·∫£ng 10‚Äì15 ph√∫t</li>
                    <li>G·ªìm 60 c√¢u h·ªèi, chia ƒë·ªÅu 6 nh√≥m R ‚Äì I ‚Äì A ‚Äì S ‚Äì E ‚Äì C</li>
                    <li>K·∫øt qu·∫£ c√≥ bi·ªÉu ƒë·ªì, gi·∫£i th√≠ch chi ti·∫øt v√† g·ª£i √Ω ng√†nh ngh·ªÅ</li>
                </ul>
            </div>

            <div class="card">
                <h2>Th√¥ng tin h·ªçc sinh</h2>
                <div class="form-grid">
                    <label>
                        H·ªç v√† t√™n *
                        <input type="text" id="student-name" placeholder="Nguy·ªÖn VƒÉn A">
                    </label>
                    <label>
                        L·ªõp *
                        <input type="text" id="student-class" placeholder="10A1">
                    </label>
                    <label>
                        M√£ h·ªçc sinh
                        <input type="text" id="student-id" placeholder="VD: 10A1-001">
                    </label>
                    <label>
                        Email
                        <input type="email" id="student-email" placeholder="email@example.com">
                    </label>
                </div>
                <p class="note">
                    Th√¥ng tin n√†y d√πng ƒë·ªÉ l∆∞u k·∫øt qu·∫£ v√† th·ªëng k√™. D·∫•u * l√† b·∫Øt bu·ªôc.
                </p>
            </div>

            <div class="card">
                <h2>C√°ch l√†m b√†i</h2>
                <ol class="checklist">
                    <li>Chuy·ªÉn sang tab <strong>‚ÄúL√†m b√†i tr·∫Øc nghi·ªám‚Äù</strong>.</li>
                    <li>ƒê·ªçc t·ª´ng c√¢u v√† ch·ªçn m·ª©c ƒë·ªô ph√π h·ª£p v·ªõi b·∫£n th√¢n t·ª´ 1 ‚Üí 5.</li>
                    <li>Sau khi tr·∫£ l·ªùi h·∫øt 60 c√¢u, b·∫•m <strong>‚ÄúXem k·∫øt qu·∫£ RIASEC‚Äù</strong>.</li>
                    <li>C√≥ th·ªÉ l∆∞u k·∫øt qu·∫£, t·∫£i file TXT v√† trao ƒë·ªïi v·ªõi ba m·∫π, th·∫ßy c√¥.</li>
                </ol>
            </div>
        </section>

        <!-- L√†m b√†i -->
        <section id="test-section" class="section">
            <div class="card">
                <h2>B√†i tr·∫Øc nghi·ªám RIASEC (60 c√¢u)</h2>
                <p class="note">
                    ƒê√°nh gi√° theo m·ª©c ƒë·ªô gi·ªëng b·∫£n th√¢n: 1 ‚Äì Ho√†n to√†n kh√¥ng ƒë·ªìng √Ω ‚Ä¶ 5 ‚Äì R·∫•t ƒë·ªìng √Ω.
                    Kh√¥ng c√≥ ƒë√∫ng/sai ‚Äì ch·ªâ c√≥ gi·ªëng em hay kh√¥ng.
                </p>

                <div class="progress-wrapper">
                    <div class="progress-text">
                        <span id="progress-count">ƒê√£ ho√†n th√†nh: 0/60 c√¢u</span>
                        <span id="progress-percent">0%</span>
                    </div>
                    <div
                        class="progress-bar-bg"
                        id="progress-bar-bg"
                        role="progressbar"
                        aria-valuenow="0"
                        aria-valuemin="0"
                        aria-valuemax="100">
                        <div class="progress-bar-fill" id="progress-bar"></div>
                    </div>
                </div>

                <div id="questions-container" class="questions-container"></div>

                <div class="actions">
                    <button
                        type="button"
                        class="btn"
                        id="reset-btn">
                        üîÅ L√†m l·∫°i t·ª´ ƒë·∫ßu
                    </button>
                    <button
                        type="button"
                        class="btn btn-primary"
                        id="submit-btn"
                        accesskey="k"
                        disabled>
                        üìä Xem k·∫øt qu·∫£ RIASEC
                    </button>
                </div>
            </div>
        </section>

        <!-- K·∫øt qu·∫£ -->
        <section id="result-section" class="section">
            <div class="card">
                <h2>K·∫øt qu·∫£ RIASEC c·ªßa b·∫°n</h2>
                <div id="no-result-message" class="note">
                    B·∫°n ch∆∞a c√≥ k·∫øt qu·∫£ n√†o. H√£y l√†m b√†i tr·∫Øc nghi·ªám tr∆∞·ªõc.
                </div>
                <div id="result-content" class="result-content hidden">
                    <div class="result-header">
                        <div>
                            <div id="result-student-info" class="result-student-info"></div>
                            <div id="result-code" class="result-code"></div>
                            <div id="result-overall" class="result-overall"></div>
                        </div>
                        <div class="result-actions">
                            <button type="button" class="btn" id="save-local-btn">üíæ L∆∞u v√†o l·ªãch s·ª≠ tr√™n m√°y</button>
                            <button type="button" class="btn" id="download-txt-btn">‚¨áÔ∏è T·∫£i k·∫øt qu·∫£ (.txt)</button>
                            <button type="button" class="btn" id="send-github-btn">
                                ‚òÅÔ∏è G·ª≠i l·∫°i l√™n GitHub
                            </button>
                        </div>
                    </div>

                    <div class="charts-grid">
                        <div>
                            <h3>Bi·ªÉu ƒë·ªì c·ªôt</h3>
                            <canvas id="bar-chart"></canvas>
                        </div>
                        <div>
                            <h3>Bi·ªÉu ƒë·ªì radar</h3>
                            <canvas id="radar-chart"></canvas>
                        </div>
                    </div>

                    <div id="top3-container" class="top3-container"></div>

                    <div id="riasec-details" class="riasec-details"></div>
                </div>
            </div>
        </section>

        <!-- Admin -->
        <section id="admin-section" class="section">
            <div class="card">
                <h2>Admin ‚Äì Gi√°o vi√™n / Ph·ª• huynh</h2>
                <div id="admin-locked">
                    <p>Vui l√≤ng nh·∫≠p m·∫≠t kh·∫©u Admin ƒë·ªÉ xem khu v·ª±c n√†y.</p>
                    <div class="form-inline">
                        <input type="password" id="admin-password-input" placeholder="M·∫≠t kh·∫©u Admin">
                        <button type="button" class="btn btn-primary" id="admin-login-btn">üîì M·ªü kh√≥a</button>
                    </div>
                    <p class="note">M·∫≠t kh·∫©u m·∫∑c ƒë·ªãnh (c√≥ th·ªÉ ƒë·ªïi trong code): <code>giaovien2025</code></p>
                </div>

                <div id="admin-content" class="hidden">
                    <h3>L·ªãch s·ª≠ k·∫øt qu·∫£ tr√™n m√°y n√†y</h3>
                    <div class="filters">
                        <label>
                            L·ªçc theo l·ªõp:
                            <input type="text" id="filter-class" placeholder="VD: 10A1">
                        </label>
                        <label>
                            T·ª´ ng√†y:
                            <input type="date" id="filter-from">
                        </label>
                        <label>
                            ƒê·∫øn ng√†y:
                            <input type="date" id="filter-to">
                        </label>
                        <button type="button" class="btn" id="apply-filter-btn">L·ªçc</button>
                        <button type="button" class="btn" id="clear-filter-btn">X√≥a l·ªçc</button>
                    </div>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                            <tr>
                                <th>Th·ªùi gian</th>
                                <th>H·ªç t√™n</th>
                                <th>L·ªõp</th>
                                <th>M√£ HS</th>
                                <th>Email</th>
                                <th>M√£ RIASEC</th>
                            </tr>
                            </thead>
                            <tbody id="history-table-body"></tbody>
                        </table>
                    </div>
                    <div class="actions">
                        <button type="button" class="btn" id="export-csv-btn">‚¨áÔ∏è Xu·∫•t CSV</button>
                        <button type="button" class="btn" id="clear-history-btn">üóë X√≥a to√†n b·ªô l·ªãch s·ª≠ tr√™n m√°y n√†y</button>
                    </div>

                    <hr>

                    <h3>C·∫•u h√¨nh GitHub (l∆∞u d·ªØ li·ªáu t·∫≠p trung, c√≥ m√£ h√≥a)</h3>
                    <p class="note">
                        C√°c th√¥ng tin d∆∞·ªõi ƒë√¢y ch·ªâ l∆∞u tr√™n <strong>m√°y n√†y</strong> b·∫±ng localStorage v√†
                        kh√¥ng hi·ªÉn th·ªã cho h·ªçc sinh. H√£y d√πng token gi·ªõi h·∫°n cho repo <code>riasec-data-storage</code>.
                    </p>

                    <div class="form-grid">
                        <label>
                            GitHub Owner (t√†i kho·∫£n / t·ªï ch·ª©c)
                            <input type="text" id="gh-owner" placeholder="VD: cbb-family">
                        </label>
                        <label>
                            Repository
                            <input type="text" id="gh-repo" placeholder="riasec-data-storage">
                        </label>
                        <label>
                            GitHub Token (PAT)
                            <input type="password" id="gh-token" placeholder="Token v·ªõi quy·ªÅn Contents: read & write">
                        </label>
                        <label>
                            Passphrase m√£ h√≥a (AES)
                            <input type="password" id="gh-passphrase" placeholder="V√≠ d·ª•: cbb-riasec-2025">
                        </label>
                    </div>
                    <div class="actions">
                        <button type="button" class="btn btn-primary" id="save-gh-config-btn">
                            üíæ L∆∞u c·∫•u h√¨nh (tr√™n m√°y n√†y)
                        </button>
                        <button type="button" class="btn" id="clear-gh-config-btn">
                            üóë X√≥a c·∫•u h√¨nh tr√™n m√°y n√†y
                        </button>
                    </div>
                    <p id="gh-config-status" class="note"></p>
                </div>
            </div>
        </section>
    </main>

    <footer class="app-footer">
        CBB &amp; Family Career Center ¬∑ Holland RIASEC Test ¬∑ Deploy tr√™n GitHub Pages
    </footer>
</div>

<script src="script.js"></script>
</body>
</html>
