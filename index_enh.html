<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Tr·∫Øc nghi·ªám Holland RIASEC - CBB & Family Career Center</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- CryptoJS CDN (d√πng ƒë·ªÉ m√£ h√≥a d·ªØ li·ªáu tr∆∞·ªõc khi g·ª≠i l√™n GitHub) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js"
            integrity="sha512-+qgUSwD1GYLLmMvx1YHTWnURiSY9ZwGSP0XrF53cWEuGuxaTiBb9G9sZApYbpfxZ4msC9ETPenIK2giD2C61NQ=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="app-shell">
    <!-- BRAND BAR -->
    <div class="brand-bar">
        <div class="brand-left">
            <img src="logo-cbb.png" alt="Logo CBB & Family" class="brand-logo" id="brand-logo">
            <div class="brand-text">
                <div class="brand-name" id="brand-name">CBB & Family</div>
                <div class="brand-sub" id="brand-sub">Tr·∫Øc nghi·ªám t√≠nh c√°ch ngh·ªÅ nghi·ªáp Holland RIASEC</div>
            </div>
        </div>
        <div class="brand-right">
            <span class="brand-tag">CBB & Family Career Center</span>
            <button class="theme-toggle" id="theme-toggle" title="Chuy·ªÉn ch·∫ø ƒë·ªô s√°ng/t·ªëi" aria-label="Toggle theme">
                <span class="theme-icon">üåô</span>
            </button>
        </div>
    </div>

    <header class="header">
        <div class="badge">
            <span class="badge-dot"></span>
            Tr·∫Øc nghi·ªám Holland RIASEC ¬∑ 60 c√¢u ¬∑ Ph√π h·ª£p l·ªõp 10‚Äì11
        </div>
        <h1>Kh√°m ph√° nh√≥m t√≠nh c√°ch ngh·ªÅ nghi·ªáp c·ªßa b·∫°n (RIASEC)</h1>
        <p class="subtitle">
            D·ª±a tr√™n l√Ω thuy·∫øt Holland RIASEC v·ªõi 6 nh√≥m t√≠nh c√°ch: Realistic, Investigative, Artistic, Social,
            Enterprising, Conventional. H√£y tr·∫£ l·ªùi theo <strong>m·ª©c ƒë·ªô gi·ªëng b·∫°n</strong>, kh√¥ng c·∫ßn suy nghƒ© qu√° l√¢u.
        </p>
        <p class="tagline">üëâ Sau khi l√†m xong, b·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c m√£ RIASEC, bi·ªÉu ƒë·ªì ƒëi·ªÉm v√† g·ª£i √Ω ng√†nh h·ªçc/ngh·ªÅ nghi·ªáp ph√π h·ª£p.</p>
    </header>

    <!-- STUDENT INFO -->
    <section class="card student-card">
        <div class="card-header">
            <h2>Th√¥ng tin h·ªçc sinh</h2>
            <span class="pill">Gi√∫p l∆∞u v√† xu·∫•t k·∫øt qu·∫£ theo t·ª´ng b·∫°n</span>
        </div>
        <div class="student-grid">
            <div class="form-group">
                <label for="student-name">H·ªç v√† t√™n *</label>
                <input type="text" id="student-name" placeholder="Nguy·ªÖn VƒÉn A" tabindex="1" required>
            </div>
            <div class="form-group">
                <label for="student-class">L·ªõp *</label>
                <input type="text" id="student-class" placeholder="10A1 / 11D2..." tabindex="2" required>
            </div>
            <div class="form-group">
                <label for="student-id">M√£ h·ªçc sinh</label>
                <input type="text" id="student-id" placeholder="VD: 10A1-023" tabindex="3">
            </div>
            <div class="form-group">
                <label for="student-email">Email</label>
                <input type="email" id="student-email" placeholder="vd: hs001@truong.edu.vn" tabindex="4">
            </div>
        </div>
        <p class="small-muted">
            <span class="required-mark">*</span> B·∫Øt bu·ªôc nh·∫≠p. Email n√™n nh·∫≠p ƒë√∫ng ƒë·ªãnh d·∫°ng (vd: abc@gmail.com).
        </p>
    </section>

    <!-- NAVIGATION TABS -->
    <nav class="top-nav">
        <button class="tab-btn active" data-target="page-intro" id="nav-intro" accesskey="1">
            <span class="icon">üìò</span> Gi·ªõi thi·ªáu & H∆∞·ªõng d·∫´n
        </button>
        <button class="tab-btn" data-target="page-quiz" id="nav-quiz" accesskey="2">
            <span class="icon">üìù</span> L√†m b√†i tr·∫Øc nghi·ªám
        </button>
        <button class="tab-btn" data-target="page-results" id="nav-results" disabled accesskey="3">
            <span class="icon">üìä</span> K·∫øt qu·∫£ RIASEC
        </button>
        <button class="tab-btn" data-target="page-admin" id="nav-admin" accesskey="4">
            <span class="icon">üõ†Ô∏è</span> Admin (L·ªãch s·ª≠)
        </button>
    </nav>

    <main>
        <!-- PAGE 1: INTRO -->
        <section id="page-intro" class="page active">
            <div class="card">
                <div class="card-header">
                    <h2>1. Tr·∫Øc nghi·ªám Holland RIASEC l√† g√¨?</h2>
                    <span class="pill">D√†nh cho h·ªçc sinh THPT</span>
                </div>
                <div class="info-columns">
                    <div>
                        <ul class="info-list">
                            <li>‚Ä¢ M·ªói ng∆∞·ªùi c√≥ xu h∆∞·ªõng thu·ªôc m·ªôt s·ªë nh√≥m t√≠nh c√°ch ngh·ªÅ nghi·ªáp n·ªïi b·∫≠t.</li>
                            <li>‚Ä¢ Holland chia th√†nh 6 nh√≥m: <strong>R ‚Äì I ‚Äì A ‚Äì S ‚Äì E ‚Äì C</strong>.</li>
                            <li>‚Ä¢ B√†i test g·ªìm <strong>60 c√¢u</strong>, m·ªói c√¢u 5 m·ª©c ƒë·ªô t·ª´ "Ho√†n to√†n kh√¥ng ƒë·ªìng √Ω" ƒë·∫øn "R·∫•t ƒë·ªìng √Ω".</li>
                            <li>‚Ä¢ K·∫øt qu·∫£ cho bi·∫øt: nh√≥m t√≠nh c√°ch n·ªïi tr·ªôi, m√£ RIASEC (v√≠ d·ª•: ISA, SEC...), v√† g·ª£i √Ω m·ªôt s·ªë ng√†nh ngh·ªÅ.</li>
                        </ul>
                        <div style="margin-top: 10px;">
                            <strong>C√°ch l√†m b√†i:</strong>
                            <ul class="info-list" style="margin-top: 4px;">
                                <li>1Ô∏è‚É£ ƒêi·ªÅn th√¥ng tin <strong>H·ªç t√™n + L·ªõp + M√£ HS + Email</strong> ph√≠a tr√™n.</li>
                                <li>2Ô∏è‚É£ Ch·ªçn tab <strong>"L√†m b√†i tr·∫Øc nghi·ªám"</strong>.</li>
                                <li>3Ô∏è‚É£ Tr·∫£ l·ªùi h·∫øt 60 c√¢u h·ªèi theo m·ª©c ƒë·ªô gi·ªëng b·∫°n.</li>
                                <li>4Ô∏è‚É£ B·∫•m <strong>"Xem k·∫øt qu·∫£ RIASEC"</strong> ‚Üí tab <strong>"K·∫øt qu·∫£ RIASEC"</strong> s·∫Ω m·ªü.</li>
                                <li>5Ô∏è‚É£ H·ªá th·ªëng c√≥ th·ªÉ <strong>t·ª± ƒë·ªông l∆∞u l√™n GitHub</strong> (n·∫øu gi√°o vi√™n ƒë√£ c·∫•u h√¨nh ·ªü tab Admin).</li>
                                <li>6Ô∏è‚É£ T·∫°i tab K·∫øt qu·∫£, b·∫°n c√≥ th·ªÉ <strong>l∆∞u l·ªãch s·ª≠</strong>, <strong>t·∫£i file k·∫øt qu·∫£</strong> ho·∫∑c <strong>in PDF</strong>.</li>
                            </ul>
                        </div>
                    </div>
                    <div>
                        <div class="small-muted">6 nh√≥m t√≠nh c√°ch RIASEC:</div>
                        <div class="riasec-chip-row">
                            <div class="riasec-chip"><strong>R</strong> ¬∑ Th·ª±c t·∫ø (Realistic)</div>
                            <div class="riasec-chip"><strong>I</strong> ¬∑ Nghi√™n c·ª©u (Investigative)</div>
                            <div class="riasec-chip"><strong>A</strong> ¬∑ Ngh·ªá thu·∫≠t (Artistic)</div>
                            <div class="riasec-chip"><strong>S</strong> ¬∑ X√£ h·ªôi (Social)</div>
                            <div class="riasec-chip"><strong>E</strong> ¬∑ Doanh nghi·ªáp (Enterprising)</div>
                            <div class="riasec-chip"><strong>C</strong> ¬∑ Truy·ªÅn th·ªëng (Conventional)</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PAGE 2: QUIZ -->
        <section id="page-quiz" class="page">
            <div class="card" id="quiz-card">
                <div class="card-header">
                    <h2>2. B√†i tr·∫Øc nghi·ªám 60 c√¢u RIASEC</h2>
                    <span class="pill">Th·ªùi gian l√†m: 10‚Äì15 ph√∫t</span>
                </div>

                <div class="autosave-notice" id="autosave-notice">
                    <span class="icon">üíæ</span>
                    <span id="autosave-text">B√†i l√†m ƒë∆∞·ª£c t·ª± ƒë·ªông l∆∞u m·ªói 30 gi√¢y</span>
                </div>

                <div class="progress-wrapper">
                    <div class="progress-top">
                        <span id="progress-text">ƒê√£ ho√†n th√†nh: 0/60 c√¢u</span>
                        <span id="progress-percent">0%</span>
                    </div>
                    <div class="progress-bar-bg" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                        <div class="progress-bar-fill" id="progress-bar"></div>
                    </div>
                </div>

                <div class="legend">
                    <span><strong>1</strong> ‚Äì Ho√†n to√†n kh√¥ng ƒë·ªìng √Ω</span>
                    <span><strong>2</strong> ‚Äì Kh√¥ng ƒë·ªìng √Ω</span>
                    <span><strong>3</strong> ‚Äì Ph√¢n v√¢n / Kh√¥ng ch·∫Øc</span>
                    <span><strong>4</strong> ‚Äì ƒê·ªìng √Ω</span>
                    <span><strong>5</strong> ‚Äì R·∫•t ƒë·ªìng √Ω</span>
                </div>

                <form id="quiz-form">
                    <div class="questions-list" id="questions-container">
                        <!-- Questions injected by JS -->
                    </div>

                    <div class="btn-row">
                        <button type="button" class="btn btn-outline" id="reset-btn">
                            <span class="icon">üîÅ</span> L√†m l·∫°i t·ª´ ƒë·∫ßu
                        </button>
                        <div style="text-align: right; flex: 1;">
                            <button type="button" class="btn btn-primary" id="submit-btn" style="float: right;" disabled accesskey="s">
                                <span class="icon">üìä</span> Xem k·∫øt qu·∫£ RIASEC
                            </button>
                            <div class="note-warning" id="warning-text" style="display:none;">
                                B·∫°n c·∫ßn tr·∫£ l·ªùi h·∫øt 60 c√¢u ƒë·ªÉ xem k·∫øt qu·∫£.
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </section>

        <!-- PAGE 3: RESULTS -->
        <section id="page-results" class="page">
            <div class="card" id="results-section">
                <div class="card-header">
                    <h2>3. K·∫øt qu·∫£ RIASEC & g·ª£i √Ω ngh·ªÅ nghi·ªáp</h2>
                    <span class="pill" id="result-code-pill">M√£ n·ªïi b·∫≠t (Top 3): ‚Äî</span>
                </div>

                <p class="result-meta">
                    ƒê√¢y l√† k·∫øt qu·∫£ g·ª£i √Ω d·ª±a tr√™n 60 c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n. H·ªá th·ªëng c√≥ th·ªÉ t·ª± l∆∞u k·∫øt qu·∫£ l√™n GitHub
                    (n·∫øu gi√°o vi√™n ƒë√£ c·∫•u h√¨nh), ƒë·ªìng th·ªùi b·∫°n c√≥ th·ªÉ l∆∞u c·ª•c b·ªô v√† t·∫£i file TXT.
                </p>

                <div class="overall-eval" id="overall-eval">
                    B·∫°n h√£y ho√†n th√†nh b√†i tr·∫Øc nghi·ªám ƒë·ªÉ xem ph·∫ßn ƒë√°nh gi√° t·ªïng quan.
                </div>

                <div class="confidence-box" id="confidence-box" style="display:none;">
                    <strong>ƒê·ªô ph√¢n bi·ªát k·∫øt qu·∫£:</strong>
                    <span id="confidence-level"></span>
                    <p class="small-muted" id="confidence-desc"></p>
                </div>

                <div class="results-grid" style="margin-top: 10px;">
                    <div>
                        <span class="pill-top3">‚≠ê Top 3 nh√≥m t√≠nh c√°ch n·ªïi b·∫≠t</span>
                        <div class="top3-list" id="top3-container"></div>

                        <div class="career-list" id="careers-container"></div>

                        <div class="export-box">
                            <h3>üìÇ L∆∞u / Xu·∫•t k·∫øt qu·∫£ c√° nh√¢n</h3>
                            <p class="small-muted">
                                K·∫øt qu·∫£ s·∫Ω g·∫Øn v·ªõi: <strong id="summary-student-info">Ch∆∞a c√≥ h·ªç t√™n/l·ªõp</strong>.
                            </p>
                            <div class="btn-row">
                                <button type="button" class="btn btn-outline" id="save-local-btn">
                                    <span class="icon">üíæ</span> L∆∞u v√†o l·ªãch s·ª≠ tr√™n m√°y
                                </button>
                                <button type="button" class="btn btn-outline" id="download-txt-btn">
                                    <span class="icon">üì•</span> T·∫£i file k·∫øt qu·∫£ (.txt)
                                </button>
                                <button type="button" class="btn btn-outline" id="print-btn">
                                    <span class="icon">üñ®Ô∏è</span> In / L∆∞u PDF
                                </button>
                                <button type="button" class="btn btn-primary" id="send-github-btn">
                                    <span class="icon">‚òÅÔ∏è</span> G·ª≠i l·∫°i l√™n GitHub (th·ªß c√¥ng)
                                </button>
                            </div>
                            <p class="small-muted">
                                Auto-save l√™n GitHub ch·ªâ ho·∫°t ƒë·ªông tr√™n m√°y/tr√¨nh duy·ªát ƒë√£ c·∫•u h√¨nh Token trong tab Admin.
                            </p>
                        </div>
                    </div>
                    <div>
                        <canvas id="barChart" height="180"></canvas>
                        <canvas id="radarChart" height="180" style="margin-top: 8px;"></canvas>
                    </div>
                </div>

                <div class="riasec-detail-grid" id="riasec-detail-grid">
                </div>

                <div class="btn-row" style="margin-top: 12px;">
                    <button type="button" class="btn btn-outline" id="retake-btn">
                        <span class="icon">üîÑ</span> L√†m l·∫°i b√†i test
                    </button>
                    <button type="button" class="btn btn-primary" id="back-to-quiz-btn">
                        <span class="icon">üìù</span> Quay l·∫°i trang tr·∫Øc nghi·ªám
                    </button>
                </div>
            </div>
        </section>

        <!-- PAGE 4: ADMIN -->
        <section id="page-admin" class="page">
            <div class="card">
                <div class="card-header">
                    <h2>4. Admin ‚Äì L·ªãch s·ª≠ & Export CSV</h2>
                    <span class="pill">L∆∞u tr√™n tr√¨nh duy·ªát + GitHub (t√πy ch·ªçn)</span>
                </div>
                <p class="result-meta">
                    Trang n√†y d√†nh cho gi√°o vi√™n/c·ªë v·∫•n h∆∞·ªõng nghi·ªáp xem t·ªïng h·ª£p c√°c k·∫øt qu·∫£ ƒë√£ ƒë∆∞·ª£c l∆∞u tr√™n m√°y n√†y,
                    c·∫•u h√¨nh GitHub ƒë·ªÉ backup l√™n repo chung, v√† xu·∫•t CSV th·ªëng k√™.
                </p>

                <div class="export-box">
                    <h3>üîé B·ªô l·ªçc l·ªãch s·ª≠ (local)</h3>
                    <div class="student-grid" style="margin-bottom: 8px;">
                        <div class="form-group">
                            <label for="filter-class">L·ªçc theo l·ªõp</label>
                            <input type="text" id="filter-class" placeholder="VD: 10A1">
                        </div>
                        <div class="form-group">
                            <label for="filter-from-date">T·ª´ ng√†y</label>
                            <input type="date" id="filter-from-date">
                        </div>
                        <div class="form-group">
                            <label for="filter-to-date">ƒê·∫øn ng√†y</label>
                            <input type="date" id="filter-to-date">
                        </div>
                    </div>
                    <div class="btn-row">
                        <button type="button" class="btn btn-outline" id="filter-apply-btn">
                            <span class="icon">‚úÖ</span> √Åp d·ª•ng l·ªçc
                        </button>
                        <button type="button" class="btn btn-outline" id="filter-reset-btn">
                            <span class="icon">‚ôªÔ∏è</span> X√≥a l·ªçc
                        </button>
                        <button type="button" class="btn btn-outline" id="export-csv-btn">
                            <span class="icon">üì§</span> Xu·∫•t to√†n b·ªô l·ªãch s·ª≠ (.csv)
                        </button>
                    </div>
                </div>

                <!-- C·∫•u h√¨nh GitHub -->
                <div class="export-box">
                    <h3>‚òÅÔ∏è C·∫•u h√¨nh GitHub l∆∞u d·ªØ li·ªáu (ch·ªâ gi√°o vi√™n)</h3>
                    <p class="small-muted">
                        Token v√† passphrase ch·ªâ l∆∞u trong <strong>localStorage</strong> c·ªßa tr√¨nh duy·ªát n√†y, kh√¥ng ghi v√†o m√£ ngu·ªìn.
                    </p>
                    <div class="student-grid" style="margin-bottom: 8px;">
                        <div class="form-group">
                            <label for="gh-owner">GitHub Owner / T·ªï ch·ª©c</label>
                            <input type="text" id="gh-owner" placeholder="vd: cbb-family">
                        </div>
                        <div class="form-group">
                            <label for="gh-repo">Repository</label>
                            <input type="text" id="gh-repo" value="riasec-data-storage">
                        </div>
                        <div class="form-group">
                            <label for="gh-token">GitHub Token (PAT)</label>
                            <input type="password" id="gh-token" placeholder="D√°n PAT v√†o ƒë√¢y (contents:write)">
                        </div>
                        <div class="form-group">
                            <label for="gh-passphrase">Passphrase m√£ h√≥a (AES)</label>
                            <input type="password" id="gh-passphrase" placeholder="M·∫≠t kh·∫©u b√≠ m·∫≠t ƒë·ªÉ m√£ h√≥a d·ªØ li·ªáu">
                        </div>
                    </div>
                    <div class="btn-row">
                        <button type="button" class="btn btn-outline" id="gh-save-config-btn">
                            <span class="icon">üí°</span> L∆∞u c·∫•u h√¨nh (tr√™n m√°y n√†y)
                        </button>
                        <button type="button" class="btn btn-outline" id="gh-clear-config-btn">
                            <span class="icon">üßπ</span> X√≥a c·∫•u h√¨nh
                        </button>
                    </div>
                    <p class="small-muted">
                        C·∫•u h√¨nh n√†y <strong>kh√¥ng</strong> ƒë∆∞·ª£c commit l√™n GitHub.  
                        N√™n d√πng token <strong>fine-grained</strong> ch·ªâ cho repo <code>riasec-data-storage</code> v·ªõi quy·ªÅn <code>contents: read/write</code>.
                    </p>
                </div>

                <div class="history-card" id="history-card">
                    <h3>üìú L·ªãch s·ª≠ k·∫øt qu·∫£ tr√™n m√°y</h3>
                    <p class="small-muted">
                        N·∫øu m·ªü tr√™n m√°y kh√°c ho·∫∑c tr√¨nh duy·ªát kh√°c th√¨ l·ªãch s·ª≠ local s·∫Ω tr·ªëng v√¨ kh√¥ng d√πng chung d·ªØ li·ªáu.
                    </p>
                    <table id="history-table">
                        <thead>
                        <tr>
                            <th>Th·ªùi gian</th>
                            <th>H·ªç t√™n</th>
                            <th>L·ªõp</th>
                            <th>M√£ HS</th>
                            <th>Email</th>
                            <th>M√£ RIASEC</th>
                        </tr>
                        </thead>
                        <tbody id="history-body">
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <span><strong>L∆∞u √Ω:</strong> B√†i test mang t√≠nh ƒë·ªãnh h∆∞·ªõng, b·∫°n n√™n trao ƒë·ªïi th√™m v·ªõi th·∫ßy c√¥, ph·ª• huynh ho·∫∑c chuy√™n gia t∆∞ v·∫•n.</span>
        <span class="small-muted">Holland RIASEC ¬∑ Phi√™n b·∫£n d√†nh cho h·ªçc sinh Vi·ªát Nam ¬∑ Developed for CBB & Family</span>
    </footer>
</div>

<!-- Career Detail Modal -->
<div class="modal" id="career-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 id="modal-title">Chi ti·∫øt ng√†nh ngh·ªÅ</h3>
            <button class="modal-close" id="modal-close" aria-label="ƒê√≥ng">&times;</button>
        </div>
        <div class="modal-body" id="modal-body">
            <!-- Content will be injected by JS -->
        </div>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>
